## Экспорт плейлистов [Яндекс.Музыки](https://music.yandex.ru/home) в JSON для [Nuclear Music Player](https://github.com/nukeop/nuclear) и [Soundiiz](https://soundiiz.com/)

### Описание

Этот Python-скрипт позволяет экспортировать плейлисты Яндекс.Музыки в формат JSON, который [можно импортировать](https://nukeop.gitbook.io/nuclear/user-manual/importing-playlists) в [Nuclear плеер](https://nuclear.js.org/downloads) или в формате CSV для [Soundiiz](https://soundiiz.com/).

**Результат:**
Рядом с исходным плейлистом (или HTML-файлом) будут созданы **JSON-файлы с названием плейлиста** или **CSV-файлы**.


* Nuclear - это бесплатный и открытый кроссплатформенный музыкальный плеер.
* [Поддерживает](https://nukeop.gitbook.io/nuclear/user-manual/importing-playlists) импорт плейлистов из JSON.


### Режимы работы

* **Токен:** Запуск скрипта с помощью флага `-t` и токена Яндекс.Музыки, что позволяет получить доступ ко всем плейлистам.
* **Список ссылок:** Запуск скрипта с помощью флага `-u` и списка публичных ссылок на плейлисты.
* **Список файлов:** Запуск скрипта с помощью флага `-f` и файла, содержащего путь до сохраненной html страницы.

После выполнения скрипта рядом с каждым плейлистом будет создан JSON-файл с названием плейлистов.
Эти файлы можно импортировать в Nuclear Player.

### Варианты использования

1. **С помощью токена Яндекс.Музыки:** (**Рекомендуемый метод**)
    * **Преимущества:**
        * Скачивает все плейлисты, включая удаленные треки.
        * Не требует публикации плейлистов.
        * Не имеет ограничений по количеству треков в плейлисте.
    * **Инструкция:**
        1. Получите токен Яндекс.Музыки: [https://yandex-music.readthedocs.io/en/main/token.html](https://yandex-music.readthedocs.io/en/main/token.html)
        2. Запустите скрипт, указав токен и ссылку на плейлист:
           ```bash
           python yandex_music_exporter.py -t YOUR_TOKEN [-c]
           ```
           * Используйте флаг `-c` для сохранения плейлистов в формате CSV для Soundiiz.
    * **Примечание:** 
        * Ошибка `451: Unavailable For Legal Reasons` API может не работать из вашей страны, попробуйте какой-то VPN.

2. **С помощью ссылки на плейлист:**
    * **Преимущества:**
        * Не требует получения токена Яндекс.Музыки.
    * **Недостатки:**
        * Работает только с публичными плейлистами.
        * Не видит удаленные треки.
    * **Инструкция:**
        1. Сделайте плейлист [публичным](https://yandex.ru/support/music-app-ios/playlists/access-smart.html).
        2. Запустите скрипт, указав ссылку на плейлист:
           ```bash
           python main.py -u https://music.yandex.ru/user_nickname/user/playlists/1005 [-c]
           ```

3. **Сохранение HTML-страницы плейлиста:**
    * **Преимущества:**
        * Не требует токена Яндекс.Музыки или публикации плейлиста.
    * **Недостатки:**
        * Не скачивает все треки в больших плейлистах (из-за постраничной загрузки).
    * **Инструкция:**
         1. Сохраните html страницу с плейлистом.
         2. Запустите скрипт, указав флаг `-f` и путь до html файлов:
              ```bash
              python main.py -f playlist1.html playlist2.html [-c]
              ```

### Установка

```bash
git clone https://github.com/Nov1kov/yandex_music_to_nuclear.git
cd yandex_music_to_nuclear
pip install -r requirements.txt
```

### Примечания:

- Этот скрипт является неофициальным инструментом и не связан с Яндексом или Nuclear Music Player.
- Скрипт использует стороннюю неофициальную библиотеку [yandex-music](https://github.com/MarshalX/yandex-music-api) для работы с Яндекс.Музыкой.